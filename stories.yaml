# Qur'an Verse Challenge - User Stories & Epics
# Product Manager Agent Output - v0.1
# Generated: 2025-08-07

project:
  name: "Qur'an Verse Challenge"
  version: '0.1'
  target_users: ['Everyday Learner', 'Madrasah Teacher', 'Revert Muslim']
  mvp_duration: '3 months'

epics:
  - id: 'E001'
    title: 'Quiz Engine Foundation'
    description: 'Core verse quiz system with MCQ and fill-in-blank questions'
    priority: 'P0'
    estimated_points: 55
    acceptance_criteria:
      - '5-question daily quiz generated by 04:00 local time'
      - 'Questions pull only from approved question bank'
      - 'Quiz state persists and resumes within 15s'
      - 'Support for MCQ and fill-in-blank formats'
    user_stories:
      - id: 'US001'
        title: 'Daily Quiz Generation'
        description: 'As an Everyday Learner, I want to receive a 5-question daily quiz so I can practice verses consistently'
        acceptance_criteria:
          - 'Quiz appears at 04:00 user local time'
          - 'Only approved questions served'
          - 'Resets every 24h'
        points: 13
        priority: 'P0'
        assignee: 'Backend'
        dependencies: ['US007', 'US008']

      - id: 'US002'
        title: 'Quiz Resume Functionality'
        description: "As any user, I want to resume incomplete quizzes so I don't lose progress"
        acceptance_criteria:
          - 'State saved â‰¤15s after last action'
          - 'Resume from exact question position'
          - 'Maintain previous answers'
        points: 8
        priority: 'P0'
        assignee: 'Backend'

      - id: 'US003'
        title: 'Question Types Support'
        description: 'As any user, I want variety in question formats to maintain engagement'
        acceptance_criteria:
          - 'MCQ with 4 choices'
          - 'Fill-in-blank with Arabic text'
          - 'Consistent scoring mechanism'
        points: 13
        priority: 'P0'
        assignee: 'AI-Question'
        dependencies: ['US008']

  - id: 'E002'
    title: 'Scholar Moderation System'
    description: 'Human-in-the-loop approval workflow for AI-generated questions'
    priority: 'P0'
    estimated_points: 34
    acceptance_criteria:
      - 'Questions without approved_at never served'
      - 'Scholar UI for approve/reject/edit'
      - '24h SLA on moderation batches'
    user_stories:
      - id: 'US004'
        title: 'Moderation Queue'
        description: 'As a Scholar, I want to review AI-generated questions to ensure accuracy'
        acceptance_criteria:
          - 'View pending questions in queue'
          - 'Approve/reject/edit options'
          - 'Arabic text validation'
        points: 21
        priority: 'P0'
        assignee: 'Scholar-Validation'
        dependencies: ['US003']

      - id: 'US005'
        title: 'Question Approval Workflow'
        description: 'As the system, I need to enforce scholar approval before serving questions'
        acceptance_criteria:
          - 'approved_at timestamp required'
          - 'Automatic queue notification'
          - 'Audit trail of approvals'
        points: 13
        priority: 'P0'
        assignee: 'Backend'

  - id: 'E003'
    title: 'Progress Tracking & Streaks'
    description: 'User engagement through progress visualization and streak mechanics'
    priority: 'P1'
    estimated_points: 42
    user_stories:
      - id: 'US006'
        title: 'Daily Streak Tracking'
        description: 'As an Everyday Learner, I want to see my learning streak to stay motivated'
        acceptance_criteria:
          - 'Current and longest streak display'
          - 'Streak breaks at missed day'
          - 'Visual streak indicators'
        points: 13
        priority: 'P1'
        assignee: 'Backend'

      - id: 'US007'
        title: 'Progress Dashboard'
        description: "As any user, I want to see my progress by juz', surah, and topic"
        acceptance_criteria:
          - 'Accuracy percentage by category'
          - 'Questions attempted vs total'
          - 'Difficulty progression tracking'
        points: 21
        priority: 'P1'
        assignee: 'Frontend'

      - id: 'US008'
        title: 'Verse Database Setup'
        description: "As the system, I need complete Qur'anic text with translations"
        acceptance_criteria:
          - 'All 6236 verses in Arabic (Uthmani script)'
          - 'English translations included'
          - 'Surah/ayah indexing'
        points: 8
        priority: 'P0'
        assignee: 'Backend'

  - id: 'E004'
    title: 'Teacher Group Management'
    description: 'Group assignment and management features for educators'
    priority: 'P1'
    estimated_points: 29
    user_stories:
      - id: 'US009'
        title: 'Group Quiz Assignment'
        description: 'As a Madrasah Teacher, I want to assign quizzes to my students'
        acceptance_criteria:
          - 'Create student groups'
          - 'Assign specific quiz sets'
          - 'Assignment visible within 1 min'
        points: 21
        priority: 'P1'
        assignee: 'Backend'

      - id: 'US010'
        title: 'Group Progress View'
        description: "As a Teacher, I want to monitor my students' progress"
        acceptance_criteria:
          - 'Class performance overview'
          - 'Individual student progress'
          - 'Completion rates by quiz'
        points: 8
        priority: 'P1'
        assignee: 'Frontend'

  - id: 'E005'
    title: 'Authentication & User Management'
    description: 'Secure user accounts with role-based access'
    priority: 'P0'
    estimated_points: 21
    user_stories:
      - id: 'US011'
        title: 'User Registration/Login'
        description: 'As any user, I want to create an account and login securely'
        acceptance_criteria:
          - 'Email/password authentication'
          - 'Role assignment (learner/teacher/scholar)'
          - 'GDPR compliant data handling'
        points: 13
        priority: 'P0'
        assignee: 'Backend'

      - id: 'US012'
        title: 'Profile Management'
        description: 'As any user, I want to manage my profile and preferences'
        acceptance_criteria:
          - 'Edit profile information'
          - 'Set learning preferences'
          - 'Privacy settings control'
        points: 8
        priority: 'P1'
        assignee: 'Frontend'

sprints:
  sprint_0:
    title: 'Project Setup & Infrastructure'
    duration: '1 week'
    goal: 'Establish development environment and core infrastructure'
    stories: []
    tasks:
      - 'Setup Vercel deployment'
      - 'Configure Supabase project'
      - 'Initialize Next.js repository'
      - 'Setup CI/CD pipeline'
    assignee: 'DevOps'

  sprint_1:
    title: 'Foundation & Authentication'
    duration: '2 weeks'
    goal: 'Core database schema, user auth, and verse data'
    stories: ['US011', 'US008', 'US005']
    estimated_points: 34
    acceptance_criteria:
      - 'Users can register and login'
      - 'Complete verse database seeded'
      - 'Question approval workflow active'

  sprint_2:
    title: 'Quiz Engine Core'
    duration: '2 weeks'
    goal: 'Basic quiz functionality with AI question generation'
    stories: ['US001', 'US002', 'US003']
    estimated_points: 34
    acceptance_criteria:
      - 'Daily quiz generation working'
      - 'Quiz resume functionality'
      - 'AI question generation pipeline'

  sprint_3:
    title: 'Scholar Moderation & UI'
    duration: '2 weeks'
    goal: 'Complete moderation system and basic frontend'
    stories: ['US004', 'US007', 'US012']
    estimated_points: 37
    acceptance_criteria:
      - 'Scholar moderation interface'
      - 'User progress dashboard'
      - 'Profile management'

definitions:
  story_points:
    1: 'Trivial - < 1 hour'
    3: 'Simple - half day'
    5: 'Medium - 1 day'
    8: 'Complex - 2-3 days'
    13: 'Large - 1 week'
    21: 'Epic - 2 weeks'

  priority_levels:
    P0: 'Must have for MVP'
    P1: 'Should have for MVP'
    P2: 'Nice to have for MVP'
    P3: 'Future release'

  agents:
    Backend: 'Database, API, authentication, business logic'
    Frontend: 'UI components, pages, user experience'
    AI-Question: 'Content generation, embeddings, NLP'
    Scholar-Validation: 'Content review, approval workflow'
    QA: 'Testing, quality assurance, accessibility'
    DevOps: 'Infrastructure, deployment, monitoring'
